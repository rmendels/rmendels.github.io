<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract environmental data in a polygon using 'ERDDAP' and 'rerddap'. — rxtractogon • rerddapXtracto</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extract environmental data in a polygon using 'ERDDAP' and 'rerddap'. — rxtractogon" />
<meta property="og:description" content="rxtractogon uses the R program 'rerddap' to extract environmental data
from an 'ERDDAP' server in a polygon through time." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rerddapXtracto</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/UsingrerddapXtracto.html">Using the rerddapXtracto routines</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rmendels/rerddapXtracto/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract environmental data in a polygon using 'ERDDAP' and 'rerddap'.</h1>
    <small class="dont-index">Source: <a href='https://github.com/rmendels/rerddapXtracto/blob/master/R/rxtractogon.R'><code>R/rxtractogon.R</code></a></small>
    <div class="hidden name"><code>rxtractogon.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>rxtractogon</code> uses the R program 'rerddap' to extract environmental data
from an 'ERDDAP' server in a polygon through time.</p>
    </div>

    <pre class="usage"><span class='fu'>rxtractogon</span><span class='op'>(</span>
  <span class='va'>dataInfo</span>,
  <span class='va'>parameter</span>,
  xcoord <span class='op'>=</span> <span class='cn'>NULL</span>,
  ycoord <span class='op'>=</span> <span class='cn'>NULL</span>,
  zcoord <span class='op'>=</span> <span class='cn'>NULL</span>,
  tcoord <span class='op'>=</span> <span class='cn'>NULL</span>,
  xName <span class='op'>=</span> <span class='st'>"longitude"</span>,
  yName <span class='op'>=</span> <span class='st'>"latitude"</span>,
  zName <span class='op'>=</span> <span class='st'>"altitude"</span>,
  tName <span class='op'>=</span> <span class='st'>"time"</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  cache_remove <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataInfo</th>
      <td><p>- the return from an 'rerddap:info' call to an 'ERDDAP' server</p></td>
    </tr>
    <tr>
      <th>parameter</th>
      <td><p>- character string containing the name of the parameter to extract</p></td>
    </tr>
    <tr>
      <th>xcoord</th>
      <td><p>- array giving longitudes (in decimal
degrees East, either 0-360 or -180 to 180) of polygon</p></td>
    </tr>
    <tr>
      <th>ycoord</th>
      <td><p>-  array giving latitudes (in decimal
degrees N; -90 to 90)of polygon</p></td>
    </tr>
    <tr>
      <th>zcoord</th>
      <td><p>-  a real number with the z-coordinate(usually altitude or depth)</p></td>
    </tr>
    <tr>
      <th>tcoord</th>
      <td><p>- 2-array of minimum and maximum times as 'YYYY-MM-DD'</p></td>
    </tr>
    <tr>
      <th>xName</th>
      <td><p>- character string with name of the xcoord in the 'ERDDAP' dataset (default "longitude")</p></td>
    </tr>
    <tr>
      <th>yName</th>
      <td><p>- character string with name of the ycoord in the 'ERDDAP' dataset (default "latitude")</p></td>
    </tr>
    <tr>
      <th>zName</th>
      <td><p>- character string with name of the zcoord in the 'ERDDAP' dataset (default "altitude")</p></td>
    </tr>
    <tr>
      <th>tName</th>
      <td><p>- character string with name of the tcoord in the 'ERDDAP' dataset (default "time")</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>- logical variable (default FALSE) if the the URL request should be verbose</p></td>
    </tr>
    <tr>
      <th>cache_remove</th>
      <td><p>- logical variable (default TRUE) whether to delete 'rerddap' cache</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>structure with data and dimensions</p><ul>
<li><p>extract$data - the masked data array dimensioned (lon,lat,time)</p></li>
<li><p>extract$varname - the name of the parameter extracted</p></li>
<li><p>extract$datasetname - ERDDAP dataset name</p></li>
<li><p>extract$longitude - the longitudes on some scale as request</p></li>
<li><p>extract$latitude - the latitudes always going south to north</p></li>
<li><p>extract$time - the times of the extracts</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>rxtractogon extracts the data from the smallest bounding box that contains
 the polygon, and then uses the function "point.in.polygon" from the "sp"
 package to mask out the areas outside of the polygon.
 rxtractogon only works with datasets defined
 on a latitude and longitude grid.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># toy example to show use</span>
<span class='co'># and keep execution time low</span>
<span class='co'># \donttest{</span>
<span class='va'>dataInfo</span> <span class='op'>&lt;-</span> <span class='fu'>rerddap</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/info.html'>info</a></span><span class='op'>(</span><span class='st'>'erdHadISST'</span><span class='op'>)</span>
<span class='co'># }</span>
<span class='va'>parameter</span> <span class='op'>&lt;-</span> <span class='st'>'sst'</span>
<span class='va'>tcoord</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2016-06-15"</span><span class='op'>)</span>
<span class='va'>xcoord</span> <span class='op'>&lt;-</span> <span class='va'>mbnms</span><span class='op'>$</span><span class='va'>Longitude</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>ycoord</span> <span class='op'>&lt;-</span> <span class='va'>mbnms</span><span class='op'>$</span><span class='va'>Latitude</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>sanctSST</span> <span class='op'>&lt;-</span> <span class='fu'>rxtractogon</span> <span class='op'>(</span><span class='va'>dataInfo</span>, parameter<span class='op'>=</span><span class='va'>parameter</span>, xcoord <span class='op'>=</span> <span class='va'>xcoord</span>,
                         ycoord <span class='op'>=</span> <span class='va'>ycoord</span>,  tcoord<span class='op'>=</span> <span class='va'>tcoord</span><span class='op'>)</span>
<span class='co'># \donttest{</span>
<span class='va'>xcoord</span> <span class='op'>&lt;-</span> <span class='va'>mbnms</span><span class='op'>$</span><span class='va'>Longitude</span>
<span class='va'>ycoord</span> <span class='op'>&lt;-</span> <span class='va'>mbnms</span><span class='op'>$</span><span class='va'>Latitude</span>
<span class='va'>dataInfo</span> <span class='op'>&lt;-</span> <span class='fu'>rerddap</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/info.html'>info</a></span><span class='op'>(</span><span class='st'>'etopo180'</span><span class='op'>)</span>
<span class='va'>parameter</span> <span class='op'>=</span> <span class='st'>'altitude'</span>
<span class='va'>xName</span> <span class='op'>&lt;-</span> <span class='st'>'longitude'</span>
<span class='va'>yName</span> <span class='op'>&lt;-</span> <span class='st'>'latitude'</span>
<span class='va'>bathy</span> <span class='op'>&lt;-</span> <span class='fu'>rxtractogon</span> <span class='op'>(</span><span class='va'>dataInfo</span>, parameter <span class='op'>=</span> <span class='va'>parameter</span>, xcoord <span class='op'>=</span> <span class='va'>xcoord</span>,
                      ycoord <span class='op'>=</span> <span class='va'>ycoord</span><span class='op'>)</span>
<span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Roy Mendelssohn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


